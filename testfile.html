<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Aadhav Sivakumar | Design & Development Portfolio</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
  <style>
    /* FONT & THEME */
    :root {
      --primary-color: #1a1a1a;
      --secondary-color: #555555;
      --background-color: #F7F5F2;
      --surface-color: #FFFFFF;
      --accent-color: #BFA181;
      --animation-duration: 0.65s;
      --animation-easing: cubic-bezier(0.76, 0, 0.24, 1);
    }

    /* Keyframe animation for the breathing effect */
    @keyframes breathe-animation {
      0% { transform: translateX(0) translateY(0); }
      50% { transform: translateX(0) translateY(-8px); }
      100% { transform: translateX(0) translateY(0); }
    }

    /* GLOBAL STYLES */
    * { margin: 0; padding: 0; box-sizing: border-box; }
    html { scroll-behavior: smooth; }
    body {
      font-family: 'Poppins', sans-serif;
      background-color: var(--background-color);
      color: var(--primary-color);
      line-height: 1.7;
      overflow-x: hidden;
    }

    h1, h2, h3, h4 { font-family: 'Playfair Display', serif; font-weight: 700; }
    a { color: var(--accent-color); text-decoration: none; transition: color 0.3s ease; }
    a:hover { color: var(--primary-color); }

    /* ANIMATED OBJECTS & HEADER */
    .animated-object { position: fixed; background-color: var(--accent-color); opacity: 0.5; z-index: 1; transition: transform 0.1s linear; will-change: transform; }
    .left-object { width: 80px; height: 80px; border-radius: 50%; left: 10vw; top: 85vh; }
    .right-object { width: 100px; height: 100px; right: 8vw; top: 0; transform: translateY(-100%); }
    header { position: fixed; width: 100%; top: 0; left: 0; padding: 20px 5%; display: flex; justify-content: space-between; align-items: center; z-index: 1000; transition: background-color 0.5s ease, box-shadow 0.5s ease; }
    header.scrolled { background-color: rgba(255, 255, 255, 0.8); backdrop-filter: blur(10px); box-shadow: 0 2px 10px rgba(0,0,0,0.05); }
    header .logo { font-size: 1.5rem; }
    header nav a { margin-left: 30px; }

    /* SECTION & CARD STYLES */
    section { padding: 100px 5%; max-width: 1200px; margin: 0 auto; opacity: 0; transform: translateY(30px); transition: opacity 0.8s ease, transform 0.8s ease; position: relative; z-index: 10; }
    section.visible { opacity: 1; transform: translateY(0); }
    .section-title { font-size: 3rem; margin-bottom: 40px; text-align: center; }
    #hero { min-height: 50vh; display: flex; flex-direction: column; justify-content: center; align-items: center; text-align: center; background-color: transparent; }
    #hero h1 { font-size: clamp(2.5rem, 6vw, 6rem); margin-bottom: 20px; }
    #hero p { font-size: clamp(1rem, 2vw, 1.25rem); color: var(--secondary-color); font-family: 'Poppins'; }
    #about .about-container { display: flex; align-items: center; gap: 50px; flex-wrap: wrap; }
    #about .about-image { flex-basis: 35%; min-width: 280px; }
    #about .about-image img { width: 100%; border-radius: 10px; }
    #about .about-text { flex-basis: 65%; min-width: 300px; flex-grow: 1; }
    #projects h3 { font-size: 1.8rem; margin-top: 60px; margin-bottom: 20px; text-align: center; color: var(--secondary-color); font-family: 'Poppins'; font-weight: 400; }

    /* Base styles for all cards, including their return animation */
    .major-project-card, .small-project-card, .skill-card {
      cursor: pointer;
      opacity: 0; /* Starts transparent for the initial scroll-in */
      visibility: visible;
      transition: opacity 0.5s ease-out, transform 0.5s ease, box-shadow 0.4s ease;
    }

    /* Card state for when the modal is opening/open */
    .project-modal-trigger.animating-out {
      opacity: 0 !important;
      transform: scale(0.95) !important;
      visibility: hidden;
      /* This transition hides the card after it finishes fading out */
      transition: opacity 0.2s ease, transform 0.2s ease, visibility 0s linear 0.2s;
    }

    .major-project-card:nth-child(odd), .small-project-card:nth-child(odd), .skill-card:nth-child(odd) { transform: translateX(-50px); }
    .major-project-card:nth-child(even), .small-project-card:nth-child(even), .skill-card:nth-child(even) { transform: translateX(50px); }

    .major-project-card.in-view, .small-project-card.in-view, .skill-card.in-view {
      opacity: 1;
      transform: translateX(0);
    }

    /* Applying the breathing animation on hover */
    .major-project-card:hover,
    .small-project-card:hover,
    .skill-card:hover {
      animation: breathe-animation 2s ease-in-out infinite;
      box-shadow: 0 10px 20px rgba(0,0,0,0.1), 0 0 15px rgba(212, 175, 55, 0.5);
    }

    .major-projects-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(350px, 1fr)); gap: 30px; }
    .major-project-card { background-color: var(--surface-color); border-radius: 10px; overflow: hidden; box-shadow: 0 5px 15px rgba(0,0,0,0.05); }
    .major-project-card img { width: 100%; height: 300px; object-fit: cover; }
    .major-project-card .project-content { padding: 25px; }
    .major-project-card h4 { font-size: 1.7rem; }
    .major-project-card p { color: var(--secondary-color); }
    .small-projects-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); gap: 25px; }
    .small-project-card { background-color: var(--surface-color); border-radius: 10px; box-shadow: 0 5px 15px rgba(0,0,0,0.05); overflow: hidden; }
    .small-project-card img { width: 100%; height: 150px; object-fit: cover; display: block; }
    .small-project-content { padding: 15px; }
    .small-project-content h4 { font-family: 'Poppins'; font-weight: 600; font-size: 1.1rem; margin-bottom: 5px; }
    .small-project-content p { font-size: 0.9rem; color: var(--secondary-color); }

    /* SKILLS, CONTACT & FOOTER */
    .skill-category-title {
      font-size: 1.8rem;
      margin-top: 60px;
      margin-bottom: 20px;
      text-align: center;
      color: var(--secondary-color);
      font-family: 'Poppins';
      font-weight: 400;
    }

    .skills-grid {
      display: grid;
      grid-template-columns: repeat(6, 1fr);
      gap: 20px;
    }

    .skill-card {
      background-color: var(--surface-color);
      border-radius: 10px;
      padding: 20px 10px;
      text-align: center;
      box-shadow: 0 5px 15px rgba(0,0,0,0.05);
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      height: 180px;
    }

    .skill-card img {
      height: 80px;
      width: 80px;
      margin-bottom: 15px;
      object-fit: contain;
    }

    .skill-card span {
      font-family: 'Poppins', sans-serif;
      font-weight: 500;
      font-size: 0.9rem;
      line-height: 1.2;
      color: var(--secondary-color);
    }

    #contact { text-align: center; }
    #contact p { max-width: 600px; margin: 0 auto 40px; color: var(--secondary-color); }
    .social-links { margin-top: 40px; display: flex; justify-content: center; gap: 35px; align-items: center; }
    .social-links a { color: var(--secondary-color); transition: transform 0.3s ease, color 0.3s ease; display: inline-block; }
    .social-links a:hover { transform: scale(1.25); color: var(--accent-color); }
    footer { text-align: center; padding: 40px 5%; color: var(--secondary-color); font-size: 0.9rem; border-top: 1px solid #ddd; margin-top: 50px; position: relative; z-index: 10; }

    /* MODAL STYLES */
    .modal-backdrop { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0, 0, 0, 0.7); z-index: 2000; opacity: 0; transition: opacity 0.5s ease-in-out; pointer-events: none;}
    .modal-backdrop.visible { opacity: 1; pointer-events: auto; }
    .modal-animator { position: fixed; background-color: var(--surface-color); border-radius: 10px; z-index: 2001; overflow: hidden; transition: top var(--animation-duration) var(--animation-easing), left var(--animation-duration) var(--animation-easing), width var(--animation-duration) var(--animation-easing), height var(--animation-duration) var(--animation-easing); pointer-events: none; visibility: hidden; }
    .modal-animator.no-transition { transition: none !important; }
    .modal-animator.visible { pointer-events: auto; visibility: visible; }
    .modal-animator .modal-content-wrapper { opacity: 0; transition: opacity 0.3s 0.2s ease; }
    .modal-animator.open .modal-content-wrapper { opacity: 1; }

    .modal-content {
      position: relative;
      width: 100%;
      height: 100%;
    }

    .modal-content-wrapper {
      width: 100%;
      height: 100%;
      overflow-y: auto;
    }

    .modal-image-container {
      width: 100%;
      padding: 50px 35px 0;
    }

    .modal-image {
      width: 100%;
      height: auto;
      max-height: 50vh;
      object-fit: cover;
      border-radius: 8px;
    }

    .modal-animator.skill-modal .modal-image-container {
      display: flex;
      justify-content: center;
      align-items: center;
      background-color: #f0f0f0;
      border-radius: 8px;
      width: calc(100% - 70px);
      margin: 50px auto 25px;
      aspect-ratio: 1 / 1;
      padding: 20px;
    }

    .modal-animator.skill-modal .modal-image {
      width: auto;
      height: auto;
      max-width: 100%;
      max-height: 100%;
      object-fit: contain;
      border-radius: 0;
    }


    .modal-view-button {
      display: inline-block;
      padding: 12px 24px;
      background-color: var(--accent-color);
      color: var(--surface-color);
      border-radius: 5px;
      font-weight: 600;
      text-align: center;
      transition: transform 0.3s ease, background-color 0.3s ease;
    }
    .modal-view-button:hover {
      transform: scale(1.05);
      background-color: var(--primary-color);
      color: var(--surface-color) !important;
    }

    .modal-close { position: fixed; top: 15px; right: 20px; background: none; border: none; font-size: 2.5rem; cursor: pointer; line-height: 1; z-index: 2002; color: white; mix-blend-mode: difference;}
    .modal-animator.skill-modal .modal-close {
      color: #333;
      mix-blend-mode: normal;
    }

    .modal-text-content { padding: 25px 35px; }
    .modal-text-content h2 { margin-bottom: 15px; font-size: 2.5rem; }
    .modal-text-content p { margin-bottom: 25px; }

    /* RESPONSIVE DESIGN */
    @media (max-width: 1024px) {
      .skills-grid { grid-template-columns: repeat(4, 1fr); }
    }
    @media (max-width: 768px) {
      #about .about-container { text-align: center; justify-content: center; }
      .skills-grid { grid-template-columns: repeat(3, 1fr); }
      header nav a { margin-left: 15px; }
      .section-title { font-size: 2.5rem; }
      .modal-content-wrapper { padding: 20px; }
      .modal-image-container { padding: 30px 15px 0; }
      .modal-text-content { padding: 25px 15px; }
      .modal-text-content h2 { font-size: 2rem; }
    }
    @media (max-width: 480px) {
      .skills-grid { grid-template-columns: repeat(2, 1fr); }
    }
  </style>
</head>
<body>

<div class="animated-object left-object"></div>
<div class="animated-object right-object"></div>

<header>
  <div class="logo"><a href="#hero">AS.</a></div>
  <nav>
    <a href="#about">About</a>
    <a href="#projects">Projects</a>
    <a href="#skills">Skills</a>
    <a href="#contact">Contact</a>
  </nav>
</header>

<main>
  <section id="hero" class="visible">
    <h1>Aadhav Sivakumar</h1>
    <p>Robotics and Embedded Systems Engineer</p>
  </section>

  <section id="about">
    <div class="about-container">
      <div class="about-image">
        <img src="https://aadhavsivakumar.github.io/Images/frontpagepfp.JPG" alt="Aadhav Sivakumar's headshot" onerror="this.onerror=null;this.src='https://placehold.co/600x400/F7F5F2/BFA181?text=Image+Not+Found';">
      </div>
      <div class="about-text">
        <h2 class="section-title" style="text-align: left; margin-bottom: 20px;">About Me</h2>
        <p>Hello! I'm a passionate and results-driven creative professional with a knack for turning complex problems into beautiful, intuitive designs. Replace this text with your own biography.</p>
      </div>
    </div>
  </section>

  <section id="projects">
    <h2 class="section-title">My Work</h2>
    <h3>Major Projects</h3>
    <div class="major-projects-grid" id="major-projects-container"></div>
    <h3>More Work</h3>
    <div class="small-projects-grid" id="small-projects-container"></div>
  </section>

  <section id="skills">
    <h2 class="section-title">Technical Skills</h2>
    <div id="skills-container"></div>
  </section>

  <section id="contact">
    <h2 class="section-title">Get In Touch</h2>
    <p>I'm currently available for new opportunities. If you have a project in mind or just want to connect, I'd love to hear from you!</p>
    <div class="social-links">
      <a href="https://www.linkedin.com/in/aadhav-s/" target="_blank" aria-label="LinkedIn Profile">
        <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" fill="currentColor" width="40" height="40"><path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433a2.062 2.062 0 0 1-2.063-2.065 2.064 2.064 0 1 1 2.063 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.225 0z" /></svg>
      </a>
      <a href="https://github.com/AadhavSivakumar" target="_blank" aria-label="GitHub Profile">
        <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" fill="currentColor" width="40" height="40"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.91 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z" /></svg>
      </a>
      <a href="mailto:sivakumaadhav@gmail.com" aria-label="Email">
        <svg xmlns="http://www.w3.org/2000/svg" width="44" height="44" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path><polyline points="22,6 12,13 2,6"></polyline></svg>
      </a>
    </div>
  </section>
</main>

<footer>
  <p>© 2024 Aadhav Sivakumar. All Rights Reserved.</p>
</footer>

<!-- Modal Structure -->
<div class="modal-backdrop">
  <div class="modal-animator">
    <div class="modal-content">
      <button class="modal-close">&times;</button>
      <div class="modal-content-wrapper">
        <div class="modal-image-container">
          <img src="" alt="" class="modal-image"/>
        </div>
        <div class="modal-text-content">
          <h2 id="modal-title"></h2>
          <p id="modal-description"></p>
          <div id="modal-tech-stack"></div>
          <a href="#" target="_blank" rel="noopener noreferrer" class="modal-view-button" id="modal-link">View Project</a>
        </div>
      </div>
    </div>
  </div>
</div>


<script>
  window.addEventListener('load', () => { // Wait for the whole page to load

    // --- DATA ---
    const longLorem = "Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed non risus. Suspendisse lectus tortor, dignissim sit amet, adipiscing nec, ultricies sed, dolor. Cras elementum ultrices diam. Maecenas ligula massa, varius a, semper congue, euismod non, mi. \n\nProin porttitor, orci nec nonummy molestie, enim est eleifend mi, non fermentum diam nisl sit amet erat. Duis semper. Duis arcu massa, scelerisque vitae, consequat in, pretium a, enim. Pellentesque congue. Ut in risus volutpat libero pharetra tempor. Cras vestibulum bibendum augue. Praesent egestas leo in pede. Praesent blandit odio eu enim. Pellentesque sed dui ut augue blandit sodales. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae; Aliquam nibh. \n\nMauris ac mauris sed pede pellentesque fermentum. Maecenas adipiscing ante non diam. Sorbi et per conubia nostra, per inceptos hymenaeos. Cras id ante. Vivamus vel purus sit amet ligula rutrum tempus. Vestibulum condimentum, lacus at tempor. \n\nVivamus et mauris. Quisque tincidunt, sapien vel feugiat pulvinar, TORQUEM eu tellus quis erat. Vestibulum ac, viverra non, rhoncus id, felis. Pellentesque pretium, lectus nec venenatis volutpat, purus lectus ultrices risus, a condimentum risus mi et quam. \n\nDonec quis lectus. Suspendisse potenti. In eleifend, quam a iaculis dictum, lacus quam-sapien, eget, consectetuer, et, eros. Nunc quis enim. Nulla facilisi. In hac habitasse platea dictumst. Curabitur a velit. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae; Nam nec ante. Sed lacinia, urna non tincidunt mattis, tortor neque."

    const majorProjectsData = [
      { id: 1, title: 'Project Millet', cardDescription: 'Agricultural drone for spraying trees with water and pesticides.', description: longLorem, imageUrl: 'https://images.unsplash.com/photo-1558655146-d09347e92766?q=80&w=2564&auto=format&fit=crop', link: '#'},
      { id: 2, title: 'SoleGait', cardDescription: 'Smart sensor placed in shoe for advanced gait analysis.', description: longLorem, imageUrl: 'https://images.unsplash.com/photo-1488590528505-98d2b5aba04b?q=80&w=2670&auto=format&fit=crop', link: '#'},
      { id: 3, title: 'Glass2Bot', cardDescription: 'Human mounted AI vision for remote object manipulation.', description: longLorem, imageUrl: 'https://images.unsplash.com/photo-1551288049-bebda4e38f71?q=80&w=2670&auto=format&fit=crop', link: '#'},
      { id: 4, title: 'SMART compost sorting', cardDescription: 'A Franka Panda and depth camera used to filter compost stream.', description: longLorem, imageUrl: 'https://images.unsplash.com/photo-1581291518857-4e27b48ff24e?q=80&w=2670&auto=format&fit=crop', link: '#'},
      { id: 5, title: 'Tactile Manipulation sensor', cardDescription: 'Soft robotics sensor on a flexible PCB to determine amount and sheering direction of gripping force.', description: longLorem, imageUrl: 'https://images.unsplash.com/photo-1624329929555-531e27874411?q=80&w=2670&auto=format&fit=crop', link: '#'},
      { id: 6, title: 'Stockbot', cardDescription: 'Simulation of robot restocking items with optimal path.', description: longLorem, imageUrl: 'https://images.unsplash.com/photo-1515879218367-8466d910aaa4?q=80&w=2669&auto=format&fit=crop', link: 'https://sites.google.com/ucsc.edu/stockbot/home' },
    ];

    const smallProjectsData = [
      { id: 'a', title: 'Sand Table', description: '2r manipulator to create patterns in the sand.', modalDescription: longLorem, imageUrl: 'https://images.unsplash.com/photo-1518770660439-4636190af475?w=400' },
      { id: 'b', title: 'PONG', description: 'Recreation of PONG with an LED matrix.', modalDescription: longLorem, imageUrl: 'https://images.unsplash.com/photo-1498050108023-c5249f4df085?w=400' },
      { id: 'c', title: 'MATE ROV', description: 'Underwater drone completing complex tasks as a part of MATE ROV competition.', modalDescription: longLorem, imageUrl: 'https://images.unsplash.com/photo-1522199755839-a2bacb67c546?q=80&w=2672&auto=format&fit=crop' },
      { id: 'd', title: 'Automated Dog Feeder', description: 'system that allows dog to get correct portion of food remotely.', modalDescription: longLorem, imageUrl: 'https://images.unsplash.com/photo-1542831371-29b0f74f9713?w=400' },
      { id: 'e', title: 'FPGA VGA Game', description: 'simple flappy bird style game implemented on basys 3 FPGA', modalDescription: longLorem, imageUrl: 'https://images.unsplash.com/photo-1579882392322-8173d15517e3?q=80&w=2670&auto=format&fit=crop' },
      { id: 'f', title: 'Mechatronics Competition', description: 'Robot that competes in a ping pong shooting tournament as part of mechatronics class', modalDescription: longLorem, imageUrl: 'https://images.unsplash.com/photo-1550745165-9bc0b252726a?w=400' },
      { id: 'g', title: 'Project G', description: 'A short description for this small but cool project.', modalDescription: longLorem, imageUrl: 'https://images.unsplash.com/photo-1534972195531-d756b9bfa9f2?w=400' },
      { id: 'h', title: 'Project H', description: 'A short description for this small but cool project.', modalDescription: longLorem, imageUrl: 'https://images.unsplash.com/photo-1555066931-4365d14bab8c?w=400' },
      { id: 'i', title: 'Project I', description: 'A short description for this small but cool project.', modalDescription: longLorem, imageUrl: 'https://images.unsplash.com/photo-1526374965328-7f61d4dc18c5?w=400' },
      { id: 'j', title: 'Project J', description: 'A short description for this small but cool project.', modalDescription: longLorem, imageUrl: 'https://images.unsplash.com/photo-1596726805581-8072ee427e41?w=400' },
      { id: 'k', title: 'Project K', description: 'A short description for this small but cool project.', modalDescription: longLorem, imageUrl: 'https://images.unsplash.com/photo-1537432376769-00f5c2f4c8d2?w=400' },
      { id: 'l', title: 'Project L', description: 'A short description for this small but cool project.', modalDescription: longLorem, imageUrl: 'https://images.unsplash.com/photo-1587620962725-abab7fe55159?w=400' },
    ];

    const skillsData = [
      { category: 'Hardware', items: [
          { name: 'Franka Emika Robot', imageUrl: 'https://i.imgur.com/2cc1T9W.png', description: longLorem },
          { name: 'NI DAQ', imageUrl: 'https://www.ni.com/images/ni-logos/ni-logo-m.png', description: longLorem },
          { name: 'Google Glass', imageUrl: 'https://upload.wikimedia.org/wikipedia/commons/thumb/a/a2/Google_Glass_logo.svg/1280px-Google_Glass_logo.svg.png', description: longLorem },
          { name: 'Bambu Lab Printer', imageUrl: 'https://bambulab.com/img/logo.svg', description: longLorem },
          { name: 'Glowforge', imageUrl: 'https://logowik.com/content/uploads/images/glowforge5087.jpg', description: longLorem },
          { name: 'Oscilloscope', imageUrl: 'https://cdn.iconscout.com/icon/premium/png-256-thumb/oscilloscope-1434947-1211786.png', description: longLorem},
          { name: 'LED Matrix', imageUrl: 'https://www.svgrepo.com/show/414441/led-matrix.svg', description: longLorem}
        ] },
      { category: 'Languages', items: [
          { name: 'C', imageUrl: 'https://cdn.jsdelivr.net/gh/devicons/devicon@latest/icons/c/c-original.svg', description: longLorem },
          { name: 'C++', imageUrl: 'https://cdn.jsdelivr.net/gh/devicons/devicon@latest/icons/cplusplus/cplusplus-original.svg', description: longLorem },
          { name: 'Python', imageUrl: 'https://cdn.jsdelivr.net/gh/devicons/devicon@latest/icons/python/python-original.svg', description: longLorem },
          { name: 'ROS', imageUrl: 'https://upload.wikimedia.org/wikipedia/commons/thumb/9/9f/ROS_logo.svg/1200px-ROS_logo.svg.png', description: longLorem },
          { name: 'MATLAB', imageUrl: 'https://upload.wikimedia.org/wikipedia/commons/thumb/2/21/Matlab_Logo.png/667px-Matlab_Logo.png', description: longLorem },
          { name: 'Verilog', imageUrl: 'https://www.vectorlogo.zone/logos/verilog/verilog-icon.svg', description: longLorem },
          { name: 'Java', imageUrl: 'https://cdn.jsdelivr.net/gh/devicons/devicon@latest/icons/java/java-original.svg', description: longLorem },
          { name: 'HTML5', imageUrl: 'https://cdn.jsdelivr.net/gh/devicons/devicon@latest/icons/html5/html5-original.svg', description: longLorem },
          { name: 'CSS3', imageUrl: 'https://cdn.jsdelivr.net/gh/devicons/devicon@latest/icons/css3/css3-original.svg', description: longLorem },
          { name: 'JavaScript', imageUrl: 'https://cdn.jsdelivr.net/gh/devicons/devicon@latest/icons/javascript/javascript-original.svg', description: longLorem },
          { name: 'SQL', imageUrl: 'https://cdn.jsdelivr.net/gh/devicons/devicon@latest/icons/postgresql/postgresql-original.svg', description: longLorem }
        ] },
      { category: 'Boards', items: [
          { name: 'Arduino', imageUrl: 'https://cdn.jsdelivr.net/gh/devicons/devicon@latest/icons/arduino/arduino-original.svg', description: longLorem },
          { name: 'Raspberry Pi', imageUrl: 'https://cdn.jsdelivr.net/gh/devicons/devicon@latest/icons/raspberrypi/raspberrypi-original.svg', description: longLorem },
          { name: 'Basys 3 FPGA', imageUrl: 'https://store.digilentinc.com/content/images/thumbs/0001091_basys-3-artix-7-fpga-trainer-board-recommended-for-digital-logic-curricula_400.png', description: longLorem },
          { name: 'STM32', imageUrl: 'https://www.st.com/etc/clientlibs/publish/main/resources/img/logo.svg', description: longLorem },
          { name: 'ESP32', imageUrl: 'https://www.espressif.com/sites/default/files/logo/espressif_logo.svg', description: longLorem },
          { name: 'Infineon PSoC 4', imageUrl: 'https://www.infineon.com/cms/en/product/promopages/psoc-4/psoc_4_logo_rgb_w-text_w-bg_300.png', description: longLorem },
          { name: 'Parallax Propeller', imageUrl: 'https://www.parallax.com/wp-content/uploads/2016/09/p2-logo-white-background-120x120.png', description: longLorem }
        ] },
      { category: 'Software', items: [
          { name: 'SolidWorks', imageUrl: 'https://cdn.jsdelivr.net/gh/devicons/devicon@latest/icons/solidworks/solidworks-original.svg', description: longLorem },
          { name: 'Altium Designer', imageUrl: 'https://avatars.githubusercontent.com/u/1083994?s=280&v=4', description: longLorem },
          { name: 'Autodesk EAGLE', imageUrl: 'https://upload.wikimedia.org/wikipedia/commons/e/e3/Autodesk_EAGLE_icon.png', description: longLorem },
          { name: 'Fusion 360', imageUrl: 'https://cdn.jsdelivr.net/gh/devicons/devicon@latest/icons/fusion360/fusion360-original.svg', description: longLorem },
          { name: 'Cadence', imageUrl: 'https://upload.wikimedia.org/wikipedia/commons/thumb/a/a2/Cadence_Design_Systems_logo.svg/2560px-Cadence_Design_Systems_logo.svg.png', description: longLorem },
          { name: 'Webots', imageUrl: 'https://cyberbotics.com/assets/images/webots.svg', description: longLorem },
          { name: 'PSpice', imageUrl: 'https://www.pspice.com/sites/default/files/p_logo.png', description: longLorem },
          { name: 'AutoCAD', imageUrl: 'https://cdn.jsdelivr.net/gh/devicons/devicon@latest/icons/autocad/autocad-original.svg', description: longLorem },
          { name: 'Android Studio', imageUrl: 'https://cdn.jsdelivr.net/gh/devicons/devicon@latest/icons/androidstudio/androidstudio-original.svg', description: longLorem },
          { name: 'Firebase', imageUrl: 'https://cdn.jsdelivr.net/gh/devicons/devicon@latest/icons/firebase/firebase-plain.svg', description: longLorem }
        ] },
      { category: 'Sensors', items: [
          { name: 'Force/Torque', imageUrl: 'https://www.svgrepo.com/show/443048/force.svg', description: longLorem },
          { name: 'IMU', imageUrl: 'https://www.svgrepo.com/show/486829/3d-gyroscope.svg', description: longLorem },
          { name: 'Ultrasonic', imageUrl: 'https://www.svgrepo.com/show/244588/ultrasonic.svg', description: longLorem },
          { name: 'Flex Sensor', imageUrl: 'https://www.svgrepo.com/show/493543/flex.svg', description: longLorem },
          { name: 'Capacitive', imageUrl: 'https://www.svgrepo.com/show/27838/capacitor.svg', description: longLorem },
          { name: 'Piezoelectric', imageUrl: 'https://www.svgrepo.com/show/278637/pressure-force.svg', description: longLorem }
        ] },
      { category: 'Other Tools', items: [
          { name: 'AI Vision', imageUrl: 'https://www.svgrepo.com/show/475107/eye-cyber.svg', description: longLorem },
          { name: 'Comm Protocols', imageUrl: 'https://www.svgrepo.com/show/375252/protocol.svg', description: longLorem },
          { name: 'Kinematics', imageUrl: 'https://www.svgrepo.com/show/305263/robot-arm-robotic-technology.svg', description: longLorem },
          { name: 'PID Control', imageUrl: 'https://www.svgrepo.com/show/272596/control-panel-settings.svg', description: longLorem },
          { name: 'Kalman Filtering', imageUrl: 'https://www.svgrepo.com/show/433362/filter.svg', description: longLorem },
          { name: 'Test Automation', imageUrl: 'https://www.svgrepo.com/show/499849/robot-check.svg', description: longLorem },
          { name: 'Telerobotics', imageUrl: 'https://www.svgrepo.com/show/533324/robot-outline.svg', description: longLorem }
        ] }
    ];

    // --- DOM ELEMENTS ---
    const header = document.querySelector('header');
    const leftObject = document.querySelector('.left-object');
    const rightObject = document.querySelector('.right-object');
    const sections = document.querySelectorAll('section');
    const majorProjectsContainer = document.getElementById('major-projects-container');
    const smallProjectsContainer = document.getElementById('small-projects-container');
    const skillsContainer = document.getElementById('skills-container');

    // Modal elements
    const modalBackdrop = document.querySelector('.modal-backdrop');
    const modalAnimator = document.querySelector('.modal-animator');
    const modalContentWrapper = document.querySelector('.modal-content-wrapper');
    const modalCloseBtn = document.querySelector('.modal-close');
    const modalImage = document.querySelector('.modal-image');
    const modalImageContainer = document.querySelector('.modal-image-container');
    const modalTitle = document.getElementById('modal-title');
    const modalDescription = document.getElementById('modal-description');
    const modalLink = document.getElementById('modal-link');
    const modalTechStack = document.getElementById('modal-tech-stack');


    // --- STATE ---
    let isAnimating = false;
    let lastClickedCard = null;

    // --- FUNCTIONS ---

    // Populate dynamic content
    const populateProjects = () => {
      majorProjectsData.forEach((project, index) => {
        const card = document.createElement('div');
        card.className = 'major-project-card project-modal-trigger';
        card.dataset.itemId = project.id;
        card.dataset.itemType = 'major';
        card.innerHTML = `
                    <img src="${project.imageUrl}" alt="${project.title}" onerror="this.onerror=null;this.src='https://placehold.co/600x400/F7F5F2/BFA181?text=Image+Not+Found';">
                    <div class="project-content">
                        <h4>${project.title}</h4>
                        <p>${project.cardDescription}</p>
                    </div>
                `;
        majorProjectsContainer.appendChild(card);
      });

      smallProjectsData.forEach((project, index) => {
        const card = document.createElement('div');
        card.className = 'small-project-card project-modal-trigger';
        card.dataset.itemId = project.id;
        card.dataset.itemType = 'small';
        card.innerHTML = `
                    <img src="${project.imageUrl}" alt="${project.title}" onerror="this.onerror=null;this.src='https://placehold.co/400x400/F7F5F2/BFA181?text=Image';">
                    <div class="small-project-content">
                        <h4>${project.title}</h4>
                        <p>${project.description}</p>
                    </div>
                `;
        smallProjectsContainer.appendChild(card);
      });
    };

    const populateSkills = () => {
      skillsContainer.innerHTML = ''; // Clear previous content
      skillsData.forEach(skillGroup => {
        const categoryTitle = document.createElement('h3');
        categoryTitle.className = 'skill-category-title';
        categoryTitle.textContent = skillGroup.category;
        skillsContainer.appendChild(categoryTitle);

        const grid = document.createElement('div');
        grid.className = 'skills-grid';

        skillGroup.items.forEach(item => {
          const skillCard = document.createElement('div');
          skillCard.className = 'skill-card project-modal-trigger';
          skillCard.dataset.itemType = 'skill';
          skillCard.dataset.itemId = item.name;
          skillCard.dataset.category = skillGroup.category;

          const img = document.createElement('img');
          img.src = item.imageUrl;
          img.alt = item.name;
          img.onerror = function() {
            this.onerror=null;
            this.src='https://placehold.co/80x80/F7F5F2/BFA181?text=?';
          };

          const name = document.createElement('span');
          name.textContent = item.name;

          skillCard.appendChild(img);
          skillCard.appendChild(name);
          grid.appendChild(skillCard);
        });

        skillsContainer.appendChild(grid);
      });
    };

    // Animations
    const handleScrollAnimations = () => {
      const scrollY = window.scrollY;
      const totalScrollableHeight = document.documentElement.scrollHeight - window.innerHeight;
      const scrollPercent = totalScrollableHeight > 0 ? scrollY / totalScrollableHeight : 0;

      header.classList.toggle('scrolled', scrollY > 50);

      if (rightObject) {
        const squareTravelDistance = window.innerHeight + rightObject.offsetHeight;
        const squareY = scrollPercent * squareTravelDistance;
        const squareRotation = scrollPercent * 360;
        rightObject.style.transform = `translateY(${squareY - rightObject.offsetHeight}px) rotate(${squareRotation}deg)`;
      }

      if (leftObject) {
        const zigzagAmplitude = 70;
        const zigzagFrequency = 0.01;
        const upwardSpeed = 0.3;
        const circleRotation = scrollPercent * 200;
        const circleX = zigzagAmplitude * Math.sin(scrollY * zigzagFrequency);
        const circleY = -scrollY * upwardSpeed;
        leftObject.style.transform = `translate(${circleX}px, ${circleY}px) rotate(-${circleRotation}deg)`;
      }
    };

    const setupIntersectionObservers = () => {
      const sectionObserver = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            entry.target.classList.add('visible');
            sectionObserver.unobserve(entry.target);
          }
        });
      }, { threshold: 0.1 });

      sections.forEach(section => sectionObserver.observe(section));

      const cardObserver = new IntersectionObserver((entries) => {
        entries.forEach((entry) => {
          entry.target.classList.toggle('in-view', entry.isIntersecting);
        });
      }, { threshold: 0.1 });

      document.querySelectorAll('.major-project-card, .small-project-card, .skill-card').forEach(card => {
        cardObserver.observe(card);
      });
    };

    // Modal Logic
    const openModal = (card, itemData, itemType) => {
      if (isAnimating) return;
      isAnimating = true;
      lastClickedCard = card;

      document.body.style.overflow = 'hidden'; // Prevent background scrolling

      const cardRect = card.getBoundingClientRect();

      // Populate modal
      modalTitle.textContent = itemData.title || itemData.name;
      modalDescription.textContent = itemData.modalDescription || itemData.description;
      modalImage.src = itemData.imageUrl;
      modalLink.style.display = itemData.link ? 'inline-block' : 'none';
      if(itemData.link) modalLink.href = itemData.link;

      // Style modal differently for skills vs projects
      if (itemType === 'skill') {
        modalAnimator.classList.remove('project-modal');
        modalAnimator.classList.add('skill-modal');
      } else {
        modalAnimator.classList.remove('skill-modal');
        modalAnimator.classList.add('project-modal');
      }

      modalBackdrop.classList.add('visible');

      modalAnimator.classList.add('no-transition');
      modalAnimator.style.top = `${cardRect.top}px`;
      modalAnimator.style.left = `${cardRect.left}px`;
      modalAnimator.style.width = `${cardRect.width}px`;
      modalAnimator.style.height = `${cardRect.height}px`;

      modalAnimator.classList.add('visible');
      card.classList.add('animating-out');

      void modalAnimator.offsetHeight;
      modalAnimator.classList.remove('no-transition');

      requestAnimationFrame(() => {
        let finalWidth;
        let finalHeight;

        if (itemType === 'major' || itemType === 'small') {
          finalWidth = Math.min(1280, window.innerWidth * 0.9);
          finalHeight = Math.min(window.innerHeight * 0.9, 1080);
        } else { // skill
          finalWidth = finalHeight = Math.min(600, window.innerWidth * 0.85, window.innerHeight * 0.85);
        }

        modalAnimator.style.top = `${(window.innerHeight - finalHeight) / 2}px`;
        modalAnimator.style.left = `${(window.innerWidth - finalWidth) / 2}px`;
        modalAnimator.style.width = `${finalWidth}px`;
        modalAnimator.style.height = `${finalHeight}px`;
        modalAnimator.classList.add('open');
      });

      const animationDurationMs = parseFloat(getComputedStyle(document.documentElement).getPropertyValue('--animation-duration')) * 1000;
      setTimeout(() => {
        isAnimating = false;
      }, animationDurationMs);
    };

    const closeModal = () => {
      if (isAnimating || !lastClickedCard) return;
      isAnimating = true;

      const cardToClose = lastClickedCard;
      const cardRect = cardToClose.getBoundingClientRect();

      modalAnimator.style.top = `${cardRect.top}px`;
      modalAnimator.style.left = `${cardRect.left}px`;
      modalAnimator.style.width = `${cardRect.width}px`;
      modalAnimator.style.height = `${cardRect.height}px`;

      modalAnimator.classList.remove('open');
      modalBackdrop.classList.remove('visible');

      const animationDurationMs = parseFloat(getComputedStyle(document.documentElement).getPropertyValue('--animation-duration')) * 1000;

      setTimeout(() => {
        if(lastClickedCard) {
          lastClickedCard.classList.remove('animating-out');
        }
        modalAnimator.classList.remove('visible');
        document.body.style.overflow = '';
        isAnimating = false;
        lastClickedCard = null;
      }, animationDurationMs);
    };

    const setupModalTriggers = () => {
      document.body.addEventListener('click', (e) => {
        const card = e.target.closest('.project-modal-trigger');
        if (card) {
          const itemId = card.dataset.itemId;
          const itemType = card.dataset.itemType;
          let itemData;

          if (itemType === 'major') {
            itemData = majorProjectsData.find(p => p.id.toString() === itemId);
          } else if (itemType === 'small') {
            itemData = smallProjectsData.find(p => p.id.toString() === itemId);
          } else if (itemType === 'skill') {
            const category = card.dataset.category;
            const skillCategory = skillsData.find(s => s.category === category);
            if (skillCategory) {
              itemData = skillCategory.items.find(i => i.name === itemId);
            }
          }

          if (itemData) {
            openModal(card, itemData, itemType);
          }
        }
      });


      modalBackdrop.addEventListener('click', (e) => {
        if (e.target === modalBackdrop) {
          closeModal();
        }
      });
      modalCloseBtn.addEventListener('click', closeModal);
      window.addEventListener('keydown', (e) => {
        if(e.key === 'Escape' && modalBackdrop.classList.contains('visible')) {
          closeModal();
        }
      });
    };


    // --- INITIALIZATION ---
    populateProjects();
    populateSkills();

    let raf;
    window.addEventListener('scroll', () => {
      if (raf) window.cancelAnimationFrame(raf);
      raf = window.requestAnimationFrame(handleScrollAnimations);
    }, { passive: true });

    setupIntersectionObservers();
    setupModalTriggers();
  });
</script>
</body>
</html>
